{
    "jest": {
        "rootDir": "src/js/",
        "scriptPreprocessor": "../../spec/support/jest-preprocessor.js",
        "unmockedModulePathPatterns": ["node_modules/react"],
        "testPathIgnorePatterns": ["node_modules", "spec/support"],
        "moduleFileExtensions": ["js", "json", "react"],
        "collectCoverage": true
    },

    "less": {
        "options": {
            "compress": false,
            "yuicompress": false,
            "optimization": 10
        }
    },

    "connect": {
        "port": 8080,
        "root": "dist",
        "livereload": true,
        "fallback": "dist/index.html"
    },

    "browserify": {
        "debug": true,
        "shim": {
            "bootstrap": {
                "path" : "node_modules/bootstrap/dist/js/bootstrap.js",
                "exports" : "bootstrap",
                "depends" : {
                    "jquery" : "jQuery"
                }
            }
        }
    },

    "common": {
        "js": [
            "react",
            "react/addons",
            "react-router",
            "underscore",
            "keymirror",
            "flux",
            "events",
            "./src/js/lib/jquery.js",
            "./src/js/lib/backbone.js",
            "./src/js/lib/q.js"
        ],

        "copy": [
            { "src": "src/imgs/**/*", "dest": "/imgs" },
            { "src": "node_modules/bootstrap/dist/fonts/*", "dest": "/fonts" },
            { "src": "node_modules/font-awesome/fonts/*", "dest": "/fonts" }
        ]
    },

    "apps": {
        "web": {
            "root": "dist",
            "copy": [
                { "src": "src/js/apps/web/index.html", "dest": "/" }
            ],

            "js": [
                { "src": "./src/js/apps/web/app.js", "name": "app.js", "dest": "/js" }
            ],

            "less": [
                { "src": "src/css/apps/web/style.less", "dest": "/css" }
            ]
        }
    }
}